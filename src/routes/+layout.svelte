<script lang="ts">
	import { page } from '$app/state';

	const menu = new Map([
		['/', ''],
		['/hash', 'Hashï¼šMD5ã€SHA1ã€HMACç­‰'],
		['/base64', 'Base64ï¼šç¼–ç ã€è§£ç ã€åª’ä½“é¢„è§ˆ'],
		['/ades', 'å¯¹ç§°åŠ è§£å¯†ï¼šAESã€DESã€3DES'],
		['/genkey', 'å¯†é’¥å¯¹ç”Ÿæˆï¼šRSAã€ECDSA'],
		['/json', 'JSONï¼šå±•å¼€ã€å‹ç¼©ã€å»é™¤è½¬ä¹‰'],
		['/datetime', 'æ—¥æœŸæ—¶é—´è½¬æ¢è®¡ç®—'],
		['/random', 'éšæœºç”Ÿæˆå™¨']
	]);
</script>

<svelte:head>
	<title>{menu.get(page.url.pathname) || 'å®ç”¨åœ¨çº¿å·¥å…·'}</title>
</svelte:head>

<nav>
	<ul>
		{#each menu as [k, v] (k)}
			<li data-current={page.url.pathname === k}>
				<a href={k}>{k === '/' ? 'ğŸ ' : 'ğŸ”–'} {v}</a>
			</li>
		{/each}
	</ul>
</nav>
<main>
	<section>
		<slot />
	</section>
</main>

<style>
	nav {
		position: fixed;
		width: 290px;
		height: 100vh;
		border-right: 1px solid var(--border-light);
		overflow: hidden auto;
		scrollbar-width: none;
		&:hover {
			scrollbar-width: thin;
		}
		& > ul > li {
			line-height: 48px;
			white-space: nowrap;
			transition: 0.3s;
			&:hover {
				color: var(--blue);
			}
			&[data-current='true'] {
				color: var(--blue);
				background-color: var(--blue-fill);
			}
			& > a {
				display: inline-block;
				width: 100%;
				text-indent: 12px;
			}
		}
	}
	main {
		position: absolute;
		right: 0;
		width: calc(100% - 291px);
		min-height: 100vh;
		& > section {
			margin: 16px;
		}
	}
</style>
